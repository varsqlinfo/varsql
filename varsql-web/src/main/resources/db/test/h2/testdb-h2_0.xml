<?xml version="1.0" encoding="UTF-8"?>

<database>
  <description>설명</description>
  <apply>
    <sql description="init db" multiple="true" delimiter=";">
<![CDATA[
-- board table
CREATE TABLE TB_BOARD(
  ARTICLE_ID BIGINT NOT NULL
  ,BOARD_CODE VARCHAR(34) NOT NULL
  ,TITLE VARCHAR(250)
  ,CONTENTS CLOB(2147483647)
  ,COMMENT_CNT BIGINT DEFAULT 0
  ,AUTHOR_NAME VARCHAR(255)
  ,NOTICE_YN CHAR(1) DEFAULT 'N'
  ,REG_ID VARCHAR(36)
  ,REG_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,UPD_ID VARCHAR(36)
  ,UPD_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,CONSTRAINT PK_TB_BOARD PRIMARY KEY  ( ARTICLE_ID, BOARD_CODE)
);

-- board comment
CREATE TABLE TB_BOARD_COMMENT(
  COMMENT_ID BIGINT NOT NULL
  ,ARTICLE_ID BIGINT  NOT NULL
  ,GRP_COMMENT_ID BIGINT
  ,PARENT_COMMENT_ID BIGINT
  ,GRP_SEQ BIGINT
  ,INDENT INTEGER DEFAULT 1
  ,BOARD_CODE VARCHAR(50) NOT NULL
  ,CONTENTS CLOB(2147483647)
  ,AUTHOR_NAME VARCHAR(255)
  ,DEL_YN CHAR(1) DEFAULT 'N'
  ,REG_ID VARCHAR(36)
  ,REG_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,UPD_ID VARCHAR(36)
  ,UPD_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,CONSTRAINT PK_TB_BOARD_COMMENT PRIMARY KEY  ( ARTICLE_ID, COMMENT_ID)
);

-- board file
CREATE TABLE TB_BOARD_FILE(
  FILE_ID BIGINT NOT NULL
  ,CONT_ID BIGINT NOT NULL
  ,CONT_TYPE VARCHAR(50) NOT NULL
  ,BOARD_CODE VARCHAR(50) NOT NULL
  ,FILE_FIELD_NAME VARCHAR(256)
  ,FILE_NAME VARCHAR(500)
  ,FILE_PATH VARCHAR(500)
  ,FILE_EXT VARCHAR(10)
  ,FILE_SIZE BIGINT
  ,REG_ID VARCHAR(36)
  ,REG_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  ,CONSTRAINT PK_TB_BOARD_FILE PRIMARY KEY (FILE_ID)
);

-- menu table
CREATE TABLE Menu (
    menu_id INT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    link VARCHAR(255),         
    parent_menu_id INT DEFAULT NULL,
    sort_order INT DEFAULT 0,       
    is_active BOOLEAN DEFAULT true 
);
]]>
    </sql>
  </apply>
  <revert>
    <sql description="inint db revert">
    
drop table TB_BOARD_FILE;
drop table TB_BOARD_COMMENT;
drop table TB_BOARD;
    </sql>
  </revert>
</database>