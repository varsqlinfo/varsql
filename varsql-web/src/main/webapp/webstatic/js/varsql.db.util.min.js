!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VARSQLUtils=t():e.VARSQLUtils=t()}(self,(()=>(()=>{"use strict";var __webpack_modules__={754:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_END_SPLITTER=t.CREATE_END_CHECK_KEYWORD=t.DEFAULT_TEXT_CHECK_TOKEN=t.TAB_CHAR=t.LINE_CHAR=void 0;var o=r(n(784)),i=r(n(591)),a=r(n(449)),u=r(n(390)),c=r(n(660));t.LINE_CHAR="\n",t.TAB_CHAR="\t",t.DEFAULT_TEXT_CHECK_TOKEN={"'":{keepWord:!0,checkEnd:function(e,t,n){return"\\"!=e&&"'"==t}},'"':{keepWord:!0,checkEnd:function(e,t,n){return"\\"!=e&&'"'==t}},"--":{keepWord:!0,endToken:t.LINE_CHAR},"/*":{keepWord:!0,endToken:"*/"},"#{":{keepWord:!0,endToken:"}"},"${":{keepWord:!0,endToken:"}"}},t.CREATE_END_CHECK_KEYWORD={if:{end:"if"},loop:{end:"loop"},case:{end:""}},t.DEFAULT_END_SPLITTER={default:new c.default,create:new o.default,create_function:new i.default(t.CREATE_END_CHECK_KEYWORD),create_trigger:new a.default(t.CREATE_END_CHECK_KEYWORD),create_procedure:new u.default(t.CREATE_END_CHECK_KEYWORD)}},496:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(754),f=l(n(294)),p=n(11),h=n(664),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,n,r,l,f=(r=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(l){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function d(){return o(this,d),f.apply(this,arguments)}return t=d,(n=[{key:"checker",value:function(){return{textChecker:new p.TextCheckTokenInfo(s.DEFAULT_TEXT_CHECK_TOKEN),endChecker:new h.EndCheckTokenInfo(s.DEFAULT_END_SPLITTER)}}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(f.default);t.default=d},660:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(754),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lineCount=0}var t,n;return t=e,(n=[{key:"init",value:function(){this.lineCount=0}},{key:"checkEnd",value:function(e,t,n,r,i,a){return/\s/.test(n)?(this.lineCount>0&&n==o.LINE_CHAR?this.lineCount+=1:n==o.LINE_CHAR&&(this.lineCount=1),this.lineCount>1):(this.lineCount=0,r==o.LINE_CHAR&&r==n||";"==n)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},664:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.EndCheckTokenInfo=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokens={},this.tokens=t}var t,r;return t=e,(r=[{key:"put",value:function(e,t){return this.tokens[e]=t,this}},{key:"hasKey",value:function(e){return this.tokens.hasOwnProperty(e)}},{key:"get",value:function(e){var t=this.tokens[e];return t.init(),t}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.EndCheckTokenInfo=r},294:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(836),i=n(754),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfg=t;var n=this.checker();this.textChecker=n.textChecker,this.endChecker=n.endChecker}var t,n;return t=e,(n=[{key:"checker",value:function(){throw new Error("checker() not implemented by subclass")}},{key:"split",value:function(e,t,n){t=(t=void 0===t?0:t-1)<1?0:t,n=(n=void 0===n?0:n-1)<1?0:n;for(var r,a,u=[],c=[],l=0,s=e.length,f=0,p=0,h=0,d=0,y="",k="",b=!1,v="",_="",m="",g=null,C=null,w="",E=0,O=!1,T=!1,P="",j=0,x=0;x<s;x++){if(r=y,k=(k=(y=(a=e.charAt(x)).toLowerCase())+(x+1<s?e.charAt(x+1):"0")).toLowerCase(),y==i.LINE_CHAR){E=x,++f;var S=e.indexOf(i.LINE_CHAR,x+1);P=e.substring(x+1,S>-1?S:s),""==(P=(0,o.trim)(P))?d+=1:(d=0,j=P.length)}if(y==r){if(++l>1e3)return[{command:"error",startLine:-1,startCharPos:-1,endLine:-1,endCharPos:-1,statement:"split error"}]}else l=0;if(null==C)if(this.textChecker.hasKey(k)||this.textChecker.hasKey(y))!1!==(C=this.textChecker.get(k)||this.textChecker.get(y)).keepWord&&c.push(a);else{if(c.push(a),/[\s(]/.test(y))b&&(b=!1),m=_,_="";else{if(""==v){if(/[;/!@#$%^&()+=?\-]/.test(y))continue;p=f,(c=[]).push(a),h=x-E,b=!0}b&&(v+=y),_+=y}if(!1===b&&null==g&&""!=v?(w=v,g=this.endChecker.hasKey(v)?this.endChecker.get(v):this.endChecker.get("default")):this.endChecker.hasKey(w+"_"+_)&&(w=w+"_"+_,g=this.endChecker.get(w)),!T&&!O&&0!=t&&f>=t&&(O=!0,""==v.trim()&&u.length>0)){var A=P.charAt(0);if(""!=P&&!/[;/!@#$%^&()+=?\-]/.test(A)){T=!0;continue}if(""==(0,o.trim)(P))return[u[u.length-1]]}if(g&&g.checkEnd(_,m,y,r,x,e)||x+1==s){var D={command:v,startLine:p,startCharPos:h,endLine:f-d,endCharPos:j,statement:c.join("")};if(O)return[D];if(0!=t&&p<=t&&t<=f){if(p!=f||t!=f)return[D];if(h<=n&&n<=D.endCharPos)return[D]}u.push(D),v="",c=[],g=null,b=!1}}else{var K=!1;C.checkEnd&&C.checkEnd(r,y,k)?K=!0:C.endToken!=k&&C.endToken!=y||(K=!0),K?(!1===C.keepWord?x+=C.endToken?C.endToken.length-1:0:c.push(a),C=null):!1!==C.keepWord&&c.push(a)}}return u}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=a},11:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TextCheckTokenInfo=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokens=t}var t,r;return t=e,(r=[{key:"put",value:function(e,t){return this.tokens[e]=t,this}},{key:"hasKey",value:function(e){return this.tokens.hasOwnProperty(e)}},{key:"get",value:function(e){return this.tokens[e]}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.TextCheckTokenInfo=r},784:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idx=0}var t,r;return t=e,(r=[{key:"init",value:function(){this.idx=0}},{key:"checkEnd",value:function(e,t,n,r,o,i){return"/"==n||";"==n}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},591:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.begin=!1,this.endFlag=!1,this.tokenStack=[],this.endCheckKeywords=t}var t,r;return t=e,(r=[{key:"init",value:function(){this.begin=!1,this.endFlag=!1,this.tokenStack=[]}},{key:"checkEnd",value:function(e,t,n,r,o,i){if("begin"==e)this.begin=!0;else if(this.endCheckKeywords.hasOwnProperty(e))"end"==t?this.tokenStack.pop():this.tokenStack.push(this.endCheckKeywords[e]);else if("end"==e){var a=this.tokenStack[this.tokenStack.length-1];a&&""==a.end&&this.tokenStack.pop(),this.endFlag=0==this.tokenStack.length}return!(!this.begin||!this.endFlag||";"!=n)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},390:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.begin=!1,this.endFlag=!1,this.tokenStack=[],this.endCheckKeywords=t}var t,r;return t=e,(r=[{key:"init",value:function(){this.begin=!1,this.endFlag=!1,this.tokenStack=[]}},{key:"checkEnd",value:function(e,t,n,r,o,i){if("begin"==e)this.begin=!0;else if(this.endCheckKeywords.hasOwnProperty(e))"end"==t?this.tokenStack.pop():this.tokenStack.push(this.endCheckKeywords[e]);else if("end"==e){var a=this.tokenStack[this.tokenStack.length-1];a&&""==a.end&&this.tokenStack.pop(),this.endFlag=0==this.tokenStack.length}return!(!this.begin||!this.endFlag||";"!=n)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},449:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.begin=!1,this.endFlag=!1,this.tokenStack=[],this.endCheckKeywords=t}var t,r;return t=e,(r=[{key:"init",value:function(){this.begin=!1,this.endFlag=!1,this.tokenStack=[]}},{key:"checkEnd",value:function(e,t,n,r,o,i){if("begin"==e)this.begin=!0;else if(this.endCheckKeywords.hasOwnProperty(e))"end"==t?this.tokenStack.pop():this.tokenStack.push(this.endCheckKeywords[e]);else if("end"==e){var a=this.tokenStack[this.tokenStack.length-1];a&&""==a.end&&this.tokenStack.pop(),this.endFlag=0==this.tokenStack.length}return!(!this.begin||!this.endFlag||";"!=n)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},836:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.millitimeToFormat=exports.removeAllComment=exports.removeComment=exports.removeMultilineComment=exports.equalizeWhitespace=exports.isNewline=exports.trim=exports.isNumber=void 0;var isNumber=function(e){return"number"==typeof e};exports.isNumber=isNumber;var trim=function(e){return e.replace(/^\s+|\s+$/g,"")};exports.trim=trim;var isNewline=function(e){return/\r|\n/.test(e)};exports.isNewline=isNewline;var equalizeWhitespace=function(e){return(0,exports.trim)(e).replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g," ")};exports.equalizeWhitespace=equalizeWhitespace;var removeMultilineComment=function(e){return e.replace(/\/\*(.|[\r\n])*?\\*\//gm,"")};exports.removeMultilineComment=removeMultilineComment;var removeComment=function(e){return e.replace(/--.*\n/gm,"")};exports.removeComment=removeComment;var removeAllComment=function(e){return(0,exports.removeComment)((0,exports.removeMultilineComment)(e))};exports.removeAllComment=removeAllComment;var millitimeToFormat=function millitimeToFormat(milliTime,format){var inDate=new Date(milliTime),z={M:inDate.getMonth()+1,d:inDate.getDate(),h:inDate.getHours(),m:inDate.getMinutes(),s:inDate.getSeconds()};return format=format.replace(/(M+|d+|h+|m+|s+)/g,(function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)})),format.replace(/(y+)/g,(function(e){return inDate.getFullYear().toString().slice(-e.length)}))};exports.millitimeToFormat=millitimeToFormat},820:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(130),t),o(n(368),t),o(n(350),t),o(n(836),t)},368:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},350:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSqlParam=void 0;var o=n(836);t.getSqlParam=function(e){if("string"!=typeof e)throw new Error("Invalid sql argument. Expected string, instead got "+r(e));var t={},n=(e=(0,o.removeAllComment)(e)).match(/[#|$]{(.+?)}/gi);if(n)for(var i=0;i<n.length;i++){for(var a=n[i].replace(/[$|#|{|}]/gi,""),u=(a=a.replace(/\s/g,"")).split(","),c="",l="",s=0;s<u.length;s++){var f=u[s].split("="),p=f[0];f.length>1?(f[1],"MODE"==p.toUpperCase()&&(l=f[1])):c=p}if(!t.hasOwnProperty(c)){var h={key:c,mode:l};t[c]=h}}return t}},130:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0;var i={standard:o(n(496)).default},a={language:"standard",keepComment:!0,findLine:-1,findCharPos:-1};t.split=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid sql argument. Expected string, instead got "+r(e));var n=Object.assign(Object.assign({},a),t),o=i[n.language];return new o(n).split(e,t.findLine,t.findCharPos)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(820);return __webpack_exports__})()));
//# sourceMappingURL=varsql.db.util.min.js.map